"use strict";(self["webpackChunkhuangdu"]=self["webpackChunkhuangdu"]||[]).push([[594],{6777:function(e,t,s){s.r(t),s.d(t,{default:function(){return l}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"survey"},[t("h1",[e._v("问卷填写系统")]),t("el-row",{staticClass:"navigation",staticStyle:{"margin-bottom":"20px"},attrs:{justify:"center"}},e._l(e.questions,(function(s,n){return t("el-button",{key:n,class:["nav-item",{active:n===e.currentQuestionIndex}],attrs:{type:"text"},on:{click:function(t){return e.goToQuestion(n)}}},[e._v(" "+e._s(n+1)+" ")])})),1),e.currentQuestionIndex<e.questions.length?t("el-card",{attrs:{shadow:"hover"}},[t("h2",[e._v("第 "+e._s(e.currentQuestionIndex+1)+" 题 / "+e._s(e.questions.length))]),"single-choice"===e.currentQuestion.type?t("div",[t("h3",[e._v(e._s(e.currentQuestion.question))]),t("el-radio-group",{staticStyle:{width:"100%"},model:{value:e.answers[e.currentQuestionIndex],callback:function(t){e.$set(e.answers,e.currentQuestionIndex,t)},expression:"answers[currentQuestionIndex]"}},e._l(e.currentQuestion.options,(function(s,n){return t("el-radio-button",{key:n,staticStyle:{"margin-bottom":"10px",width:"100%"},attrs:{label:s}},[e._v(" "+e._s(s)+" ")])})),1)],1):e._e(),"multiple-choice"===e.currentQuestion.type?t("div",[t("h3",[e._v(e._s(e.currentQuestion.question))]),t("el-checkbox-group",{staticStyle:{width:"100%"},model:{value:e.answers[e.currentQuestionIndex],callback:function(t){e.$set(e.answers,e.currentQuestionIndex,t)},expression:"answers[currentQuestionIndex]"}},e._l(e.currentQuestion.options,(function(s,n){return t("el-checkbox",{key:n,staticStyle:{"margin-bottom":"10px",width:"100%"},attrs:{label:s}},[e._v(" "+e._s(s)+" ")])})),1)],1):e._e(),"fill-in-the-blank"===e.currentQuestion.type?t("div",[t("h3",[e._v(e._s(e.currentQuestion.question))]),t("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入答案",clearable:""},model:{value:e.answers[e.currentQuestionIndex],callback:function(t){e.$set(e.answers,e.currentQuestionIndex,t)},expression:"answers[currentQuestionIndex]"}})],1):e._e(),"image-upload"===e.currentQuestion.type?t("div",[t("h3",[e._v(e._s(e.currentQuestion.question))]),t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t("el-upload",{staticClass:"upload-demo",attrs:{action:"","on-change":e.handleImageUpload,"auto-upload":!1,"show-file-list":!1}},[t("el-button",{attrs:{slot:"trigger",type:"primary"},slot:"trigger"},[e._v("上传图片")]),e.answers[e.currentQuestionIndex]?t("div",[t("img",{staticStyle:{"max-width":"100%","max-height":"200px","margin-top":"10px"},attrs:{src:e.answers[e.currentQuestionIndex],alt:"Uploaded Image"}})]):e._e()],1)],1):e._e(),e.currentQuestionIndex<e.questions.length-1?t("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",disabled:!e.isAnswered},on:{click:e.nextQuestion}},[e._v(" 下一题 ")]):t("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"success",disabled:!e.isAnswered},on:{click:e.submitSurvey}},[e._v(" 提交 ")])],1):t("div",{staticClass:"completed"},[t("el-card",[t("h2",[e._v("问卷已完成！")]),t("p",[e._v("感谢您的参与！")]),t("pre",[e._v(e._s(e.answers))])])],1),t("div",{staticClass:"progress-bar"},[t("el-progress",{staticStyle:{width:"200px"},attrs:{"text-inside":!0,"stroke-width":20,percentage:e.progressPercentage}})],1)],1)},r=[],i={data(){return{currentQuestionIndex:0,answers:{},questions:[{type:"single-choice",question:"单选题：你最喜欢的颜色是什么？",options:["红色","蓝色","绿色","黄色"]},{type:"multiple-choice",question:"多选题：请选择你喜欢的水果",options:["苹果","香蕉","橙子","葡萄"]},{type:"fill-in-the-blank",question:"填空题：请输入你的名字"},{type:"image-upload",question:"图片上传题：请上传你的头像"}]}},computed:{currentQuestion(){return this.questions[this.currentQuestionIndex]},progressPercentage(){return Math.round((this.currentQuestionIndex+1)/this.questions.length*100)},isAnswered(){const e=this.answers[this.currentQuestionIndex];return"single-choice"===this.currentQuestion.type?void 0!==e&&""!==e:"multiple-choice"===this.currentQuestion.type?Array.isArray(e)&&e.length>0:"fill-in-the-blank"===this.currentQuestion.type?void 0!==e&&""!==e.trim():"image-upload"===this.currentQuestion.type&&(void 0!==e&&null!==e)}},methods:{nextQuestion(){this.currentQuestionIndex<this.questions.length-1&&this.currentQuestionIndex++},goToQuestion(e){this.currentQuestionIndex=e},handleImageUpload(e){const t=new FileReader;t.onload=e=>{this.$set(this.answers,this.currentQuestionIndex,e.target.result)},t.readAsDataURL(e.raw)},submitSurvey(){console.log("提交问卷答案：",this.answers),this.currentQuestionIndex++}}},o=i,u=s(1656),a=(0,u.A)(o,n,r,!1,null,"517f5740",null),l=a.exports}}]);
//# sourceMappingURL=about.deaa38fa.js.map